<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link
	href="https://fonts.googleapis.com/css2?family=Gowun+Batang&display=swap"
	rel="stylesheet">
<title>DWine</title>
<link href="/css/common/common.css" rel="stylesheet">
<link href="/css/home/home.css" rel="stylesheet">
<script src="https://code.jquery.com/jquery-3.6.0.min.js"
	integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4="
	crossorigin="anonymous"></script>
<script type="text/javascript"
	src="//cdn.jsdelivr.net/npm/slick-carousel@1.8.1/slick/slick.min.js"></script>
<link rel="stylesheet" type="text/css"
	href="//cdn.jsdelivr.net/npm/slick-carousel@1.8.1/slick/slick.css" />
</head>
<body>
	<header th:include="common/header :: header"></header>
	<div class="wrapper">
		<div class="main_select">
			<div class="select_btns">
				<input type="button" class="main_btn recommend" value="대표 와인"
					onclick="recommend()"> <input type="button"
					class="main_btn about" value="About Wine" onclick="about()">
			</div>
		</div>
		<div class="main_wine_list">
			<h1>D.WINE</h1>
			<div id="titlewrap" class="slider">
				<div class="main_img slide">
					<div>
						<img src="images/member/lolailo.PNG" width="200px"
							onclick="alert('lolailo')" /> <b>lolailo</b>
					</div>
					<div>
						<img src="images/member/malbec.PNG" width="200px"
							onclick="location.href='/purchase/2'" /> <b>malbec</b>
					</div>
					<div>
						<img src="images/member/michelle.PNG" width="200px"
							onclick="alert('michelle')" /> <b>michelle</b>
					</div>
					<div>
						<img src="images/member/rose.PNG" width="200px"
							onclick="alert('rose')" /> <b>rose</b>
					</div>

					<div>
						<img src="images/member/blanc.PNG" width="200px"
							onclick="alert('blanc')" /> <b>blanc</b>
					</div>
					<div>
						<img src="images/member/Cabernet_Sauvignon.PNG" width="200px"
							onclick="alert('Cabernet_Sauvignon')" /> <b>카베르네 소비뇽</b>
					</div>

				</div>
			</div>
		</div>
		<div class="about_content" id="about">
			<p class="about_text">
				<b style="color: #6B0E1F;">와인(wine)</b>은 포도를 으깨서 나온 즙을 발효시킨 술을 말합니다.<br>
				제조 방법상 양조주 중 과실주에 해당하며 도수는 보통 13~15% 사이입니다.<br> <br> <b>색상에
					의한 분류</b><br> 포도주의 종류는 크게 레드 와인, 화이트 와인, 로제 와인 등으로 나뉩니다. 포도의 즙과 함께
				포도의 껍질과 씨를 발효시켰느냐 아니냐의 여부에 따라 색이 결정되고 이 차이가 레드, 화이트, 로제, 블러시 와인 등의
				분류를 만듭니다.<br> <br> <b>식사시 용도에 따른 분류</b><br> 식전, 식중,
				식후에 마시는 포도주를 따로 분류하는 방법으로, 각각 아페리티프 와인, 테이블 와인, 디저트 와인으로 불립니다.<br>
				①식전주 - 보통 신맛이 나고 산뜻한샴페인이나 화이트 와인을 많이 사용하며 주로 달지 않은 와인을 마십니다.<br>
				②식중주 - 음식과 같이 마시는 와인으로 식사에 나올 음식과 잘 어울리는 맛을 지닌 와인을 선택하는 것이 가장 중요합니다.<br>
				③식후주 - 디저트와 같이 마시는 와인으로, 단맛이 나는 와인을 쓰는 것이 특징입니다.<br> <br>
				<b>보존법</b><br> 병에 넣어도 숙성이 진행될 수 있다는게 브랜디와 다른점으로 코르크가 완전히 밀폐되지는
				않기 때문에 공기와 접촉하면서 숙성이 가능합니다.<br> 이상적인 보관 조건은 썹씨 12~14도, 60~70%
				정도의 습도, 어둠고, 잡내와 진동이 없는 곳으로 이러한 조건에서 10~20년 서서히 숙성하여 복합적인 풍미를 띠게
				됩니다.
			</p>
			<div id="waveArea">
				<canvas id="canvas"></canvas>
			</div>
		</div>
	</div>
	<div th:include="common/footer :: goUp"></div>
	<footer th:include="common/footer :: footer"></footer>
	<script>
		// 물별 효과 캔버스 객체 실행
		$(document).ready(function(){
			new BG();
		})
		
		// 대표 와인으로 이동
		function recommend() {
			$('.about').css({
				"background-color" : "white",
				"color" : "#808080",
				"border-radius" : "0"
			})
			$('.recommend').css({
				"background-color" : "#6B0E1F",
				"color" : "white",
				"border-radius" : "20px"
			})
			window.scrollTo(0, $('.main_wine_list').offset().top-161);
		}
		// About Wine으로 이동
		function about() {
			$('.recommend').css({
				"background-color" : "white",
				"color" : "#808080",
				"border-radius" : "0"
			})
			$('.about').css({
				"background-color" : "#6B0E1F",
				"color" : "white",
				"border-radius" : "20px"
			})
			window.scrollTo(0,$('.about_content').offset().top-36);
			
		}
		// 최상단으로 이동
		function goUp() {
			$('.recommend').css({
				"background-color" : "white",
				"color" : "#808080",
				"border-radius" : "0"
			})
			$('.about').css({
				"background-color" : "white",
				"color" : "#808080",
				"border-radius" : "0"
			})
			window.scrollTo(0, 0);
		}
		
		// 스크롤 위치에 따른 소형 네비게이션 변경
		window.addEventListener("scroll", function(e){
			var curScroll = document.documentElement.scrollTop;
			
			if(curScroll<300){
				$('.recommend').css({
					"background-color" : "white",
					"color" : "#808080",
					"border-radius" : "0"
				})
				$('.about').css({
					"background-color" : "white",
					"color" : "#808080",
					"border-radius" : "0"
				})
			}
			else if(curScroll>= 300 && curScroll<900){
				$('.recommend').css({
					"background-color" : "#6B0E1F",
					"color" : "white",
					"border-radius" : "20px"
				})
				$('.about').css({
					"background-color" : "white",
					"color" : "#808080",
					"border-radius" : "0"
				})
			}else{
				$('.recommend').css({
					"background-color" : "white",
					"color" : "#808080",
					"border-radius" : "0"
				})
				$('.about').css({
					"background-color" : "#6B0E1F",
					"color" : "white",
					"border-radius" : "20px"
				})
			}
		});
	</script>
	
	<!-- 배경 물결 그리는 캔버스 스크립트 -->
	<script>
		class BG {
	      constructor() {
	    	
	        this.canvas = document.getElementById('canvas');
	        this.ctx = this.canvas.getContext('2d');

	        this.wave = new Wave();

	        window.addEventListener('resize', this.resize.bind(this));
	        this.resize();

	        requestAnimationFrame(this.animate.bind(this));
	      }

	      resize() {
	        this.width = document.getElementById('waveArea').clientWidth;
	        this.height = document.getElementById('waveArea').clientHeight;
	        
	        this.canvas.width = this.width;
	        this.canvas.height = this.height*2;

	        this.ctx.scale(1, 2);

	        this.wave.resize(this.width, this.height);
	      }

	      animate(t) {
	        this.ctx.clearRect(0, 0, this.width, this.height);

	        this.wave.draw(this.ctx);
	        requestAnimationFrame(this.animate.bind(this));
	      }
	    }

		// 물결의 기준점이 되는 지점
	    class Point {
	      constructor(index, x, y) {
	        this.x = x;
	        this.y = y;
	        this.fixedY = y;
	        this.speed = 0.05;
	        this.cur = index;
	        this.max = Math.random() * 100 + 80;
	      }

	      update() {
	        this.cur += this.speed;
	        this.y = this.fixedY + (Math.sin(this.cur) * this.max);
	      }
	    }

		// 물결
	    class Wave {
	      constructor() {
	        this.totalPoints = 6;
	      }
	      resize(width, height) {
	        this.points = [];
	        this.width = width;	
	        this.height = height;

	        this.centerX = width / 2;
	        this.centerY = height / 2;

	        this.pointGap = this.width / (this.totalPoints - 1);

	        for (let i = 0; i < this.totalPoints; i++) {
	          const point = new Point(
	            i,
	            this.pointGap * i,
	            this.centerY
	          );
	          this.points[i] = point;
	        }
	      }

	      draw(ctx) {
	        ctx.beginPath();
	        ctx.fillStyle = '#992339';

	        let preX = this.points[0].x;
	        let preY = this.points[0].y;

	        ctx.moveTo(preX, preY);

	        for (let i = 1; i < this.totalPoints; i++) {
	          if (i < this.totalPoints - 1) {
	            this.points[i].update();
	          }
	          const cx = (preX + this.points[i].x) / 2;
	          const cy = (preY + this.points[i].y) / 2;

	          ctx.quadraticCurveTo(preX, preY, cx, cy);

	          preX = this.points[i].x;
	          preY = this.points[i].y;
	        }

	        ctx.lineTo(preX, preY);
	        ctx.lineTo(this.width, this.height);
	        ctx.lineTo(this.points[0].x, this.height);
	        ctx.fill();
	        ctx.closePath();
	      }
	    }
	    
	</script>
	<script>
            $('.main_img').slick({
                infinite: true, /* 맨끝이미지에서 끝나지 않고 다시 맨앞으로 이동 */
                slidesToShow: 3, /* 화면에 보여질 이미지 갯수*/
                slidesToScroll: 3,  /* 스크롤시 이동할 이미지 갯수 */
                autoplay: true, /* 자동으로 다음이미지 보여주기 */
                dots: true, /* 아래점 */
                autoplaySpeed: 1000,/* 다음이미지로 넘어갈 시간 */

                speed: 1000, /* 다음이미지로 넘겨질때 걸리는 시간 */
                pauseOnHover: true, /* 마우스 호버시 슬라이드 이동 멈춤 */
                responsive: [{breakpoint:1100, settings:{slidesToShow:2 }}, {breakpoint:800, settings:{slidesToShow:1}}]

            });
        </script>
</body>
</html>